#!/usr/bin/env node
!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("path")},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];n=i.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e);(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(19),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t,n){var r=n(27);function o(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},n=e.name||"Function wrapped with `once`";return t.onceError=n+" shouldn't be called more than once",t.called=!1,t}e.exports=r(o),e.exports.strict=r(i),o.proto=o((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return o(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return i(this)},configurable:!0})}))},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(8),o=n(9),i=process.argv;if(console.log(__dirname),i.length<3)console.log(r.Help.displayHelp());else switch(i[2]){case"new":"app"===i[3]?o.Application.createNewApplicationFromRepo():"component"===i[3]&&o.Application.createNewComponent(i[4],i[5]);break;default:console.log(r.Help.displayHelp())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Help=void 0;t.Help=class{constructor(){}static displayHelp(){return"\n            usage commands:\n            \n            -new            --- Create New Item\n                -app        --- create New litElement-based Application\n                -component  --- Create New litElement Component\n        "}}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Application=void 0;const a=i(n(3)),c=i(n(0)),l=s(n(10)),u=s(n(11)),d=s(n(12)),f=s(n(13)),p=n(14);t.Application=class{constructor(e){this._name=e}static createNewApplication(e){console.log(__dirname);const t=a.resolve("./",""+e,"src/");console.log(t),c.mkdirSync(t,{recursive:!0}),console.log(`Creating App Folder on Path ${__dirname}/${e}`),console.log(`Creating Folder ${__dirname}/${e}/src`),console.log(`Creating Folder ${__dirname}/${e}/src/my-element`),this.createNewComponent("my-element",t),console.log(`Creating Folder ${__dirname}/${e}/test`);const n=a.resolve("./",""+e,"test/");this.createConfigurationFiles(n)}static createNewApplicationFromRepo(){this.fetchTemplateProjectFromRepo()}static fetchTemplateProjectFromRepo(){const e=new p.FetchRemoteRepository("https://codeload.github.com/FreeBLD/lit-element-template/zip/master");e.getRepo().then(t=>{console.log(t),t.includes(".zip")&&e.extractArchive(t)})}static createConfigurationFiles(e){c.mkdirSync(e,{recursive:!0});const t=new f.default;let n=t.getDefaultWebpackTemplate();c.writeFileSync(e+"/webpack.config.js",n);let r=t.getDefaultWebpackTemplate();c.writeFileSync(e+"/tsconfig.json",r)}static createNewComponent(e,t){let n=d.default.trimComponentName(e);const r=n.toLowerCase()+"-element";t=t||process.cwd();const o=a.resolve(t,r);console.log("Created New Folder "+o),c.mkdirSync(o,{recursive:!0}),console.log(`Created New Element ${o}/${r}.ts`),c.writeFileSync(`${o}/${r}.ts`,this.generateNewComponent(n)),console.log(`Created New Test ${o}/${r}.ts`),c.writeFileSync(`${o}/${r}.test.ts`,this.generateNewTestCase(n))}static generateNewComponent(e){let t=(new l.default).renderTypescriptTemplate();t=t.replace(/^(?:    ){3}/gm,""),t=t.replace(/\n/,"");const n=d.default.firstToUpperCase(e),r=d.default.firstToLowerCase(e),o=d.default.convertToKebapCase(e);let i=t.replace(/%%PascalCase%%/g,n);return i=i.replace(/%%camelCase%%/g,r),i=i.replace(/\\/g,""),i.replace(/%%kebap-case%%/g,o)}static generateNewTestCase(e){const t=d.default.firstToUpperCase(e),n=d.default.firstToLowerCase(e),r=d.default.convertToKebapCase(e);let o=(new u.default).renderTestCaseTemplate();return o=o.replace(/^(?:    ){3}/gm,""),o=o.replace(/\n/,""),o=o.replace(/%%PascalCase%%/g,t),o=o.replace(/%%camelCase%%/g,n),o.replace(/%%kebap-case%%/g,r)}static generateNewTestCaseFromTemplate(e,t){let n=d.default.firstToUpperCase(e);return c.readFileSync(a.join(__dirname,t),{encoding:"utf-8"}).replace(/%%PascalCase%%/g,n).replace(/%%kebap-case%%/g,e.toLowerCase())}static generateNewComponentFromTemplate(e,t){let n=d.default.firstToUpperCase(e);return c.readFileSync(a.join(__dirname,t),{encoding:"utf-8"}).replace(/%%PascalCase%%/g,n).replace(/%%kebap-case%%/g,e.toLowerCase())}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){}renderTypescriptTemplate(){return"\n            import { LitElement, html, css, property, customElement } from 'lit-element';\n\n            @customElement('%%kebap-case%%-element')\n            export class %%PascalCase%%Element extends LitElement {\n                private _name: string;\n\n                @property({ type: String }) public get name() {\n                    return this._name;\n                } \n                public set name(value: string) {\n                    const oldValue = this.name;\n                    this._name = value;\n                    this.requestUpdate('name', oldValue)\n                }\n                \n                constructor() {\n                    super();\n                    this.name = \"%%PascalCase%%Element\";\n                }\n\n                render() {\n                    return html`\n                        <h1>${this.name} <span class=\".blink\">Works!</span></h1>\n                    `;\n                }\n                \n                static get styles() {\n                    const style = css`\n                        :host {\n                            color: red;\n                            // create a blink css property\n                        }\n                        @keyframes blink {\n                            from { color: red; }\n                            to { color: white; }\n                        }\n                        .blink {\n                            animation-name: blink;\n                            animation-duration: 2s;\n                        }\n                    `;\n                    return [style];\n                }\n            }\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{renderTestCaseTemplate(){return"\n            import  { %%PascalCase%%Element } from \"./%%kebap-case%%-element\";\n            import * as assert from 'assert';\n\n            let %%camelCase%%: %%PascalCase%%Element;\n            let shadow: shadowRoot;\n\n            describe(\"Test Case for the %%PascalCase%%Element Class\", () => {\n                beforeEach(() => {\n                    %%camelCase%% = new %%PascalCase%%Element();\n                    document.body.appendChild(%%camelCase%%);\n                    shadow = %%camelCase%%.shadowRoot;\n                });\n\n                afterEach(() => {\n                    document.body.removeChild(%%camelCase%%);\n                    %%camelCase%% = null;\n                });\n\n                it(\"%%camelCase%% has a property 'name' with value of '%%PascalCase%%'\", function() {\n                    assert.equal(%%camelCase%%.name, '%%PascalCase%%');\n                });\n\n                it(\"%%camelCase%% has a 'color' red applied to its children\", function() {\n                    const host = window.getComputedStyle(%%camelCase%%, ':host');\n                    const color = host.getPropertyValue('color');\n                    assert.equal(%%camelCase%%, color);\n                });\n            })\n        "}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){}static firstToUpperCase(e){return e[0].toUpperCase()+e.substring(1,e.length)}static firstToLowerCase(e){return e[0].toLowerCase()+e.substring(1,e.length)}static convertToKebapCase(e){const t=e.replace(/[A-Za-z][a-z]+/g,e=>"-"+e.toLowerCase());return t.slice(1,t.length)}static convertToSnakeCase(e){const t=e.replace(/[A-Za-z][a-z]+/g,e=>"_"+e.toLowerCase());return t.slice(1,t.length)}static trimComponentName(e){let t=new RegExp("Component|Element|-element|-component|-","g");return e.replace(t,"")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){}getDefaultTsConfigTemplate(){return'\n            {\n                "compilerOptions": {\n                    "outDir": "./dist/",\n                    "sourceMap": true,\n                    "noImplicitAny": true,\n                    "module": "CommonJS",\n                    "target": "ES2015",\n                    "allowJs": true,\n                    "experimentalDecorators": true,\n                    "moduleResolution": "Node"\n                }\n            }\n        '}getDefaultWebpackTemplate(){return"\n            const HtmlWebpackPlugin = require('html-webpack-plugin');\n            const CopyWebpackPlugin = require('copy-webpack-plugin');\n            const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n            const path = require('path');\n            \n            module.exports = ({ mode }) => {\n                return {\n                    mode,\n                    entry: path.join(__dirname, 'src', 'index.ts'),\n                    output:  {\n                        path: path.join(__dirname, \"/dist\"),\n                        filename: \"bundle.js\"\n                    }, \n                    plugins: [\n                        new CleanWebpackPlugin(),\n                        new HtmlWebpackPlugin({\n                            entry: 'index.ts',\n                            template: path.resolve(__dirname, 'src/', 'index.html')\n                        }),\n                        new CopyWebpackPlugin({\n                            patterns: [\n                                {\n                                    context: 'node_modules/@webcomponents/webcomponentsjs',\n                                    from: '**/*.js',\n                                    to: 'webcomponents'\n                                }\n                            ]\n                        })\n                    ],\n                    module: {\n                    rules: [\n                        {\n                            test: /.ts$/,\n                            use: 'ts-loader',\n                            exclude: /node_modules/\n                        },\n                        {\n                            test: /.test.js$/,\n                            use: 'mocha-loader',\n                            exclude: /node_modules/\n                        },\n                        {\n                            test: /.test.ts$/,\n                            use: 'mocha-loader',\n                            exclude: /node_modules/\n                        },\n                        { \n                            enforce: 'pre',\n                            test: /.js$/,\n                            loader: 'source-map-loader'\n                        }\n                        ]\n                    },\n                    resolve: {\n                        extensions: ['.ts', '.js']\n                    },\n                    devtool: mode === 'development' ? 'source-map' : 'none',\n                    watchOptions: {\n                        ignored: /node_modules/\n                    },\n                    devServer: {\n                        contentBase: path.join(__dirname, '/dist'),\n                        compress: true,\n                        port: 9000,\n                        inline: true,\n                        hot: true //If this is false then liveReload implicitly true\n                    }\n                };\n            };\n        "}getDefaultUnitTestingBuffersTemplate(){return["\n            var context = require.context('../src', true, /.test.ts$/);\n            context.keys().forEach(context);\n            module.exports = context;\n            ","\n            const HtmlWebpackPlugin = require('html-webpack-plugin');\n            const { CleanWebpackPlugin } = require('clean-webpack-plugin');\n            const path = require('path');\n            \n            module.exports = ({ mode }) => {\n                return {\n                    mode,\n                    entry: path.resolve(__dirname, '.', 'all.tests.js'),\n                    output: {\n                        path: path.join(__dirname, '/build'),\n                        filename: '[name].bundle.js',\n                    },\n                    plugins: [\n                        new CleanWebpackPlugin(),\n                        new HtmlWebpackPlugin({\n                            template: path.resolve(__dirname, '.', 'test.html')\n                        })\n                    ],\n                    module: {\n                    rules: [\n                        {\n                            test: /.ts$/,\n                            use: 'ts-loader',\n                            exclude: /node_modules/\n                        },\n                        {\n                            test: /.test.js$/,\n                            use: 'mocha-loader',\n                            exclude: /node_modules/\n                        },\n                        {\n                            test: /.test.ts$/,\n                            use: [ 'mocha-loader', 'ts-loader' ],\n                            exclude: /node_modules/\n                        },\n                        { \n                            enforce: 'pre',\n                            test: /.js$/,\n                            loader: 'source-map-loader'\n                        }\n                        ]\n                    },\n                    resolve: {\n                        extensions: ['.ts', '.js']\n                    },\n                    devtool: mode === 'development' ? 'source-map' : 'none',\n                    watchOptions: {\n                        ignored: /node_modules/\n                    },\n                    devServer: {\n                        contentBase: path.join(__dirname, '/build'),\n                        compress: true,\n                        port: 9010,\n                        inline: true,\n                        //hot: true //If this is false then liveReload implicitly true\n                    },\n                    optimization: {\n                        minimize: mode === 'production' ? true : false,\n                    }\n                };\n            };\n            ",'\n            <!DOCTYPE html>\n\n            <html lang="en">\n             \n            <head>\n                <meta charset="UTF-8">\n                <meta name="viewport" content="width=device-width, initial-scale=1.0">\n                <meta http-equiv="X-UA-Compatible" content="ie=edge">\n                <title>Mocha Testing</title>\n            </head>\n             \n            <body>\n            </body>\n            </html>\n            ',"\n            var webpackConf = require('./webpack-test.config');\n\n            module.exports = function (config) {\n                return config.set({\n                    browsers: ['Chrome'],\n                    frameworks: ['mocha'],\n                    files: ['./index.ts'],\n                    preprocessors: {\n                        './index.ts': ['webpack']\n                    },\n                    plugins: [\n                        'karma-chrome-launcher',\n                        'karma-mocha',\n                        'karma-webpack'\n                    ],\n                    webpack: webpackConf,\n                    webpackMiddleware: {\n                        noInfo: true\n                    }\n                })\n            }\n            "]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchRemoteRepository=void 0;const r=n(15),o=n(0),i=n(16);t.FetchRemoteRepository=class{constructor(e){this.repoLink=e}set RepositoryLink(e){this.repoLink=e}getFileFromURL(e,t){if(null===t){const e=(new Date).toISOString();t=`${__dirname}/repo${e}.zip`}return new Promise((n,o)=>{r.get(e,e=>{this.saveStreamToFile(e,t).then(e=>{console.log("File Successfully Saved on "+e),n(e)})})})}getRepo(e){if(void 0===e){const t=(new Date).toISOString();e=`${__dirname}/repo${t}.zip`}return new Promise((t,n)=>{r.get(this.repoLink,n=>{this.saveStreamToFile(n,e).then(e=>{console.log("File Successfully Saved on "+e),t(e)})})})}saveStreamToFile(e,t){const n=o.createWriteStream(t);return e.pipe(n),new Promise((e,r)=>{n.on("finish",()=>{console.log(t),n.close(e(t))}),n.on("error",e=>{r(e)})})}extractArchive(e){i(e,{dir:__dirname+"/repo"}).then((e,t)=>{console.log("Archive Extracted!")}).catch(e=>{throw new Error("Error "+e)})}}},function(e,t){e.exports=require("https")},function(e,t,n){const r=n(17)("extract-zip"),{createWriteStream:o,promises:i}=n(0),s=n(25),a=n(3),{promisify:c}=n(2),l=n(1),u=n(30),d=c(u.open),f=c(l.pipeline);class p{constructor(e,t){this.zipPath=e,this.opts=t}async extract(){return r("opening",this.zipPath,"with opts",this.opts),this.zipfile=await d(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,t)=>{this.zipfile.on("error",e=>{this.canceled=!0,t(e)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(r("zip extraction complete"),e())}),this.zipfile.on("entry",async e=>{if(this.canceled)return void r("skipping entry",e.fileName,{cancelled:this.canceled});if(r("zipfile entry",e.fileName),e.fileName.startsWith("__MACOSX/"))return void this.zipfile.readEntry();const n=a.dirname(a.join(this.opts.dir,e.fileName));try{await i.mkdir(n,{recursive:!0});const t=await i.realpath(n);if(a.relative(this.opts.dir,t).split(a.sep).includes(".."))throw new Error(`Out of bound path "${t}" found while processing file ${e.fileName}`);await this.extractEntry(e),r("finished processing",e.fileName),this.zipfile.readEntry()}catch(e){this.canceled=!0,this.zipfile.close(),t(e)}})})}async extractEntry(e){if(this.canceled)return void r("skipping entry extraction",e.fileName,{cancelled:this.canceled});this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);const t=a.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,l=40960==(61440&n);let u=16384==(61440&n);!u&&e.fileName.endsWith("/")&&(u=!0);const d=e.versionMadeBy>>8;u||(u=0===d&&16===e.externalFileAttributes),r("extracting entry",{filename:e.fileName,isDir:u,isSymlink:l});const p=511&this.getExtractedMode(n,u),m=u?t:a.dirname(t),h={recursive:!0};if(u&&(h.mode=p),r("mkdir",{dir:m,...h}),await i.mkdir(m,h),u)return;r("opening read stream",t);const y=await c(this.zipfile.openReadStream.bind(this.zipfile))(e);if(l){const e=await s(y);r("creating symlink",e,t),await i.symlink(e,t)}else await f(y,o(t,{mode:p}))}getExtractedMode(e,t){let n=e;return 0===n&&(t?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}}e.exports=async function(e,t){if(r("creating target directory",t.dir),!a.isAbsolute(t.dir))throw new Error("Target directory is expected to be absolute");return await i.mkdir(t.dir,{recursive:!0}),t.dir=await i.realpath(t.dir),new p(e,t).extract()}},function(e,t,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(18):e.exports=n(20)},function(e,t,n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(4)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o;function s(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*o;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return s(e,t,i,"day");if(t>=o)return s(e,t,o,"hour");if(t>=r)return s(e,t,r,"minute");if(t>=n)return s(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){const r=n(21),o=n(2);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(o.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:o}=this;if(o){const t=this.color,o="[3"+(t<8?t:"8;5;"+t),i=`  ${o};1m${r} [0m`;n[0]=i+n[0].split("\n").join("\n"+i),n.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{const e=n(22);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(e,t)=>t.toUpperCase());let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e},{}),e.exports=n(4)(t);const{formatters:i}=e.exports;i.o=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},i.O=function(e){return this.inspectOpts.colors=this.useColors,o.inspect(e,this.inspectOpts)}},function(e,t){e.exports=require("tty")},function(e,t,n){"use strict";const r=n(23),o=n(24),i=process.env;let s;function a(e){return function(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}(function(e){if(!1===s)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!e.isTTY&&!0!==s)return 0;const t=s?1:0;if("win32"===process.platform){const e=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in i)||"codeship"===i.CI_NAME?1:t;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:(i.TERM,t)}(e))}o("no-color")||o("no-colors")||o("color=false")?s=!1:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(s=!0),"FORCE_COLOR"in i&&(s=0===i.FORCE_COLOR.length||0!==parseInt(i.FORCE_COLOR,10)),e.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";e.exports=(e,t)=>{t=t||process.argv;const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),o=t.indexOf("--");return-1!==r&&(-1===o||r<o)}},function(e,t,n){"use strict";const r=n(26),o=n(29);class i extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function s(e,t){if(!e)return Promise.reject(new Error("Expected a stream"));t={maxBuffer:1/0,...t};const{maxBuffer:n}=t;let s;return await new Promise((a,c)=>{const l=e=>{e&&(e.bufferedData=s.getBufferedValue()),c(e)};s=r(e,o(t),e=>{e?l(e):a()}),s.on("data",()=>{s.getBufferedLength()>n&&l(new i)})}),s.getBufferedValue()}e.exports=s,e.exports.default=s,e.exports.buffer=(e,t)=>s(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>s(e,{...t,array:!0}),e.exports.MaxBufferError=i},function(e,t,n){var r=n(5),o=n(28),i=n(0),s=function(){},a=/^v?\.0/.test(process.version),c=function(e){return"function"==typeof e},l=function(e,t,n,l){l=r(l);var u=!1;e.on("close",(function(){u=!0})),o(e,{readable:t,writable:n},(function(e){if(e)return l(e);u=!0,l()}));var d=!1;return function(t){if(!u&&!d)return d=!0,function(e){return!!a&&(!!i&&((e instanceof(i.ReadStream||s)||e instanceof(i.WriteStream||s))&&c(e.close)))}(e)?e.close(s):function(e){return e.setHeader&&c(e.abort)}(e)?e.abort():c(e.destroy)?e.destroy():void l(t||new Error("stream was destroyed"))}},u=function(e){e()},d=function(e,t){return e.pipe(t)};e.exports=function(){var e,t=Array.prototype.slice.call(arguments),n=c(t[t.length-1]||s)&&t.pop()||s;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r=t.map((function(o,i){var s=i<t.length-1;return l(o,s,i>0,(function(t){e||(e=t),t&&r.forEach(u),s||(r.forEach(u),n(e))}))}));return t.reduce(d)}},function(e,t){e.exports=function e(t,n){if(t&&n)return e(t)(n);if("function"!=typeof t)throw new TypeError("need wrapper function");return Object.keys(t).forEach((function(e){r[e]=t[e]})),r;function r(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];var r=t.apply(this,e),o=e[e.length-1];return"function"==typeof r&&r!==o&&Object.keys(o).forEach((function(e){r[e]=o[e]})),r}}},function(e,t,n){var r=n(5),o=function(){},i=function(e,t,n){if("function"==typeof t)return i(e,null,t);t||(t={}),n=r(n||o);var s=e._writableState,a=e._readableState,c=t.readable||!1!==t.readable&&e.readable,l=t.writable||!1!==t.writable&&e.writable,u=function(){e.writable||d()},d=function(){l=!1,c||n.call(e)},f=function(){c=!1,l||n.call(e)},p=function(t){n.call(e,t?new Error("exited with error code: "+t):null)},m=function(t){n.call(e,t)},h=function(){return(!c||a&&a.ended)&&(!l||s&&s.ended)?void 0:n.call(e,new Error("premature close"))},y=function(){e.req.on("finish",d)};return!function(e){return e.setHeader&&"function"==typeof e.abort}(e)?l&&!s&&(e.on("end",u),e.on("close",u)):(e.on("complete",d),e.on("abort",h),e.req?y():e.on("request",y)),function(e){return e.stdio&&Array.isArray(e.stdio)&&3===e.stdio.length}(e)&&e.on("exit",p),e.on("end",f),e.on("finish",d),!1!==t.error&&e.on("error",m),e.on("close",h),function(){e.removeListener("complete",d),e.removeListener("abort",h),e.removeListener("request",y),e.req&&e.req.removeListener("finish",d),e.removeListener("end",u),e.removeListener("close",u),e.removeListener("finish",d),e.removeListener("exit",p),e.removeListener("end",f),e.removeListener("error",m),e.removeListener("close",h)}};e.exports=i},function(e,t,n){"use strict";const{PassThrough:r}=n(1);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:n}=e;const o="buffer"===n;let i=!1;t?i=!(n||o):n=n||"utf8",o&&(n=null);const s=new r({objectMode:i});n&&s.setEncoding(n);let a=0;const c=[];return s.on("data",e=>{c.push(e),i?a=c.length:a+=e.length}),s.getBufferedValue=()=>t?c:o?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},function(e,t,n){var r=n(0),o=n(31),i=n(32),s=n(34),a=n(2),c=n(6).EventEmitter,l=n(1).Transform,u=n(1).PassThrough,d=n(1).Writable;function f(e,t,n){"function"==typeof t&&(n=t,t=null),null==t&&(t={}),null==t.autoClose&&(t.autoClose=!1),null==t.lazyEntries&&(t.lazyEntries=!1),null==t.decodeStrings&&(t.decodeStrings=!0),null==t.validateEntrySizes&&(t.validateEntrySizes=!0),null==t.strictFileNames&&(t.strictFileNames=!1),null==n&&(n=O),r.fstat(e,(function(r,o){if(r)return n(r);p(i.createFromFd(e,{autoClose:!0}),o.size,t,n)}))}function p(e,t,n,r){"function"==typeof n&&(r=n,n=null),null==n&&(n={}),null==n.autoClose&&(n.autoClose=!0),null==n.lazyEntries&&(n.lazyEntries=!1),null==n.decodeStrings&&(n.decodeStrings=!0);var o=!!n.decodeStrings;if(null==n.validateEntrySizes&&(n.validateEntrySizes=!0),null==n.strictFileNames&&(n.strictFileNames=!1),null==r&&(r=O),"number"!=typeof t)throw new Error("expected totalSize parameter to be a number");if(t>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");e.ref();var i=Math.min(65557,t),s=F(i),a=t-s.length;v(e,s,0,i,a,(function(c){if(c)return r(c);for(var l=i-22;l>=0;l-=1)if(101010256===s.readUInt32LE(l)){var u=s.slice(l),d=u.readUInt16LE(4);if(0!==d)return r(new Error("multi-disk zip files are not supported: found disk number: "+d));var f=u.readUInt16LE(10),p=u.readUInt32LE(16),h=u.readUInt16LE(20),y=u.length-22;if(h!==y)return r(new Error("invalid comment length. expected: "+y+". found: "+h));var g=o?S(u,22,u.length,!1):u.slice(22);if(65535!==f&&4294967295!==p)return r(null,new m(e,p,t,f,g,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames));var C=F(20),w=a+l-C.length;return void v(e,C,0,C.length,w,(function(i){if(i)return r(i);if(117853008!==C.readUInt32LE(0))return r(new Error("invalid zip64 end of central directory locator signature"));var s=_(C,8),a=F(56);v(e,a,0,a.length,s,(function(i){return i?r(i):101075792!==a.readUInt32LE(0)?r(new Error("invalid zip64 end of central directory record signature")):(f=_(a,32),p=_(a,48),r(null,new m(e,p,t,f,g,n.autoClose,n.lazyEntries,o,n.validateEntrySizes,n.strictFileNames)))}))}))}r(new Error("end of central directory record signature not found"))}))}function m(e,t,n,r,o,i,s,a,l,u){var d=this;c.call(d),d.reader=e,d.reader.on("error",(function(e){y(d,e)})),d.reader.once("close",(function(){d.emit("close")})),d.readEntryCursor=t,d.fileSize=n,d.entryCount=r,d.comment=o,d.entriesRead=0,d.autoClose=!!i,d.lazyEntries=!!s,d.decodeStrings=!!a,d.validateEntrySizes=!!l,d.strictFileNames=!!u,d.isOpen=!0,d.emittedError=!1,d.lazyEntries||d._readEntry()}function h(e,t){e.autoClose&&e.close(),y(e,t)}function y(e,t){e.emittedError||(e.emittedError=!0,e.emit("error",t))}function g(){}function C(e,t){return new Date(1980+(e>>9&127),(e>>5&15)-1,31&e,t>>11&31,t>>5&63,2*(31&t),0)}function w(e){return-1!==e.indexOf("\\")?"invalid characters in fileName: "+e:/^[a-zA-Z]:/.test(e)||/^\//.test(e)?"absolute path: "+e:-1!==e.split("/").indexOf("..")?"invalid relative path: "+e:null}function v(e,t,n,r,o,i){if(0===r)return setImmediate((function(){i(null,F(0))}));e.read(t,n,r,o,(function(e,t){return e?i(e):t<r?i(new Error("unexpected EOF")):void i()}))}function E(e){l.call(this),this.actualByteCount=0,this.expectedByteCount=e}function b(){c.call(this),this.refCount=0}function x(e){u.call(this),this.context=e,this.context.ref(),this.unreffedYet=!1}t.open=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});null==t.autoClose&&(t.autoClose=!0);null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);null==n&&(n=O);r.open(e,"r",(function(e,o){if(e)return n(e);f(o,t,(function(e,t){e&&r.close(o,O),n(e,t)}))}))},t.fromFd=f,t.fromBuffer=function(e,t,n){"function"==typeof t&&(n=t,t=null);null==t&&(t={});t.autoClose=!1,null==t.lazyEntries&&(t.lazyEntries=!1);null==t.decodeStrings&&(t.decodeStrings=!0);null==t.validateEntrySizes&&(t.validateEntrySizes=!0);null==t.strictFileNames&&(t.strictFileNames=!1);p(i.createFromBuffer(e,{maxChunkSize:65536}),e.length,t,n)},t.fromRandomAccessReader=p,t.dosDateTimeToDate=C,t.validateFileName=w,t.ZipFile=m,t.Entry=g,t.RandomAccessReader=b,a.inherits(m,c),m.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())},m.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()},m.prototype._readEntry=function(){var e=this;if(e.entryCount!==e.entriesRead){if(!e.emittedError){var t=F(46);v(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return h(e,n);if(!e.emittedError){var r=new g,o=t.readUInt32LE(0);if(33639248!==o)return h(e,new Error("invalid central directory file header signature: 0x"+o.toString(16)));if(r.versionMadeBy=t.readUInt16LE(4),r.versionNeededToExtract=t.readUInt16LE(6),r.generalPurposeBitFlag=t.readUInt16LE(8),r.compressionMethod=t.readUInt16LE(10),r.lastModFileTime=t.readUInt16LE(12),r.lastModFileDate=t.readUInt16LE(14),r.crc32=t.readUInt32LE(16),r.compressedSize=t.readUInt32LE(20),r.uncompressedSize=t.readUInt32LE(24),r.fileNameLength=t.readUInt16LE(28),r.extraFieldLength=t.readUInt16LE(30),r.fileCommentLength=t.readUInt16LE(32),r.internalFileAttributes=t.readUInt16LE(36),r.externalFileAttributes=t.readUInt32LE(38),r.relativeOffsetOfLocalHeader=t.readUInt32LE(42),64&r.generalPurposeBitFlag)return h(e,new Error("strong encryption is not supported"));e.readEntryCursor+=46,t=F(r.fileNameLength+r.extraFieldLength+r.fileCommentLength),v(e.reader,t,0,t.length,e.readEntryCursor,(function(n){if(n)return h(e,n);if(!e.emittedError){var o=0!=(2048&r.generalPurposeBitFlag);r.fileName=e.decodeStrings?S(t,0,r.fileNameLength,o):t.slice(0,r.fileNameLength);var i=r.fileNameLength+r.extraFieldLength,a=t.slice(r.fileNameLength,i);r.extraFields=[];for(var c=0;c<a.length-3;){var l=a.readUInt16LE(c+0),u=a.readUInt16LE(c+2),d=c+4,f=d+u;if(f>a.length)return h(e,new Error("extra field length exceeds extra field buffer size"));var p=F(u);a.copy(p,0,d,f),r.extraFields.push({id:l,data:p}),c=f}if(r.fileComment=e.decodeStrings?S(t,i,i+r.fileCommentLength,o):t.slice(i,i+r.fileCommentLength),r.comment=r.fileComment,e.readEntryCursor+=t.length,e.entriesRead+=1,4294967295===r.uncompressedSize||4294967295===r.compressedSize||4294967295===r.relativeOffsetOfLocalHeader){var m=null;for(c=0;c<r.extraFields.length;c++){if(1===(g=r.extraFields[c]).id){m=g.data;break}}if(null==m)return h(e,new Error("expected zip64 extended information extra field"));var y=0;if(4294967295===r.uncompressedSize){if(y+8>m.length)return h(e,new Error("zip64 extended information extra field does not include uncompressed size"));r.uncompressedSize=_(m,y),y+=8}if(4294967295===r.compressedSize){if(y+8>m.length)return h(e,new Error("zip64 extended information extra field does not include compressed size"));r.compressedSize=_(m,y),y+=8}if(4294967295===r.relativeOffsetOfLocalHeader){if(y+8>m.length)return h(e,new Error("zip64 extended information extra field does not include relative header offset"));r.relativeOffsetOfLocalHeader=_(m,y),y+=8}}if(e.decodeStrings)for(c=0;c<r.extraFields.length;c++){var g;if(28789===(g=r.extraFields[c]).id){if(g.data.length<6)continue;if(1!==g.data.readUInt8(0))continue;var C=g.data.readUInt32LE(1);if(s.unsigned(t.slice(0,r.fileNameLength))!==C)continue;r.fileName=S(g.data,5,g.data.length,!0);break}}if(e.validateEntrySizes&&0===r.compressionMethod){var v=r.uncompressedSize;if(r.isEncrypted()&&(v+=12),r.compressedSize!==v){var E="compressed/uncompressed size mismatch for stored file: "+r.compressedSize+" != "+r.uncompressedSize;return h(e,new Error(E))}}if(e.decodeStrings){e.strictFileNames||(r.fileName=r.fileName.replace(/\\/g,"/"));var b=w(r.fileName,e.validateFileNameOptions);if(null!=b)return h(e,new Error(b))}e.emit("entry",r),e.lazyEntries||e._readEntry()}}))}}))}}else setImmediate((function(){e.autoClose&&e.close(),e.emittedError||e.emit("end")}))},m.prototype.openReadStream=function(e,t,n){var r=this,i=0,s=e.compressedSize;if(null==n)n=t,t={};else{if(null!=t.decrypt){if(!e.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(!1!==t.decrypt)throw new Error("invalid options.decrypt value: "+t.decrypt);if(e.isCompressed()&&!1!==t.decompress)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(null!=t.decompress){if(!e.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!1!==t.decompress&&!0!==t.decompress)throw new Error("invalid options.decompress value: "+t.decompress)}if(null!=t.start||null!=t.end){if(e.isCompressed()&&!1!==t.decompress)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(e.isEncrypted()&&!1!==t.decrypt)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(null!=t.start){if((i=t.start)<0)throw new Error("options.start < 0");if(i>e.compressedSize)throw new Error("options.start > entry.compressedSize")}if(null!=t.end){if((s=t.end)<0)throw new Error("options.end < 0");if(s>e.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!r.isOpen)return n(new Error("closed"));if(e.isEncrypted()&&!1!==t.decrypt)return n(new Error("entry is encrypted, and options.decrypt !== false"));r.reader.ref();var a=F(30);v(r.reader,a,0,a.length,e.relativeOffsetOfLocalHeader,(function(c){try{if(c)return n(c);var l=a.readUInt32LE(0);if(67324752!==l)return n(new Error("invalid local file header signature: 0x"+l.toString(16)));var u,d=a.readUInt16LE(26),f=a.readUInt16LE(28),p=e.relativeOffsetOfLocalHeader+a.length+d+f;if(0===e.compressionMethod)u=!1;else{if(8!==e.compressionMethod)return n(new Error("unsupported compression method: "+e.compressionMethod));u=null==t.decompress||t.decompress}var m=p,h=m+e.compressedSize;if(0!==e.compressedSize&&h>r.fileSize)return n(new Error("file data overflows file bounds: "+m+" + "+e.compressedSize+" > "+r.fileSize));var y=r.reader.createReadStream({start:m+i,end:m+s}),g=y;if(u){var C=!1,w=o.createInflateRaw();y.on("error",(function(e){setImmediate((function(){C||w.emit("error",e)}))})),y.pipe(w),r.validateEntrySizes?(g=new E(e.uncompressedSize),w.on("error",(function(e){setImmediate((function(){C||g.emit("error",e)}))})),w.pipe(g)):g=w,g.destroy=function(){C=!0,w!==g&&w.unpipe(g),y.unpipe(w),y.destroy()}}n(null,g)}finally{r.reader.unref()}}))},g.prototype.getLastModDate=function(){return C(this.lastModFileDate,this.lastModFileTime)},g.prototype.isEncrypted=function(){return 0!=(1&this.generalPurposeBitFlag)},g.prototype.isCompressed=function(){return 8===this.compressionMethod},a.inherits(E,l),E.prototype._transform=function(e,t,n){if(this.actualByteCount+=e.length,this.actualByteCount>this.expectedByteCount){var r="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return n(new Error(r))}n(null,e)},E.prototype._flush=function(e){if(this.actualByteCount<this.expectedByteCount){var t="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return e(new Error(t))}e()},a.inherits(b,c),b.prototype.ref=function(){this.refCount+=1},b.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.close((function(t){if(t)return e.emit("error",t);e.emit("close")}))}},b.prototype.createReadStream=function(e){var t=e.start,n=e.end;if(t===n){var r=new u;return setImmediate((function(){r.end()})),r}var o=this._readStreamForRange(t,n),i=!1,s=new x(this);o.on("error",(function(e){setImmediate((function(){i||s.emit("error",e)}))})),s.destroy=function(){o.unpipe(s),s.unref(),o.destroy()};var a=new E(n-t);return s.on("error",(function(e){setImmediate((function(){i||a.emit("error",e)}))})),a.destroy=function(){i=!0,s.unpipe(a),s.destroy()},o.pipe(s).pipe(a)},b.prototype._readStreamForRange=function(e,t){throw new Error("not implemented")},b.prototype.read=function(e,t,n,r,o){var i=this.createReadStream({start:r,end:r+n}),s=new d,a=0;s._write=function(n,r,o){n.copy(e,t+a,0,n.length),a+=n.length,o()},s.on("finish",o),i.on("error",(function(e){o(e)})),i.pipe(s)},b.prototype.close=function(e){setImmediate(e)},a.inherits(x,u),x.prototype._flush=function(e){this.unref(),e()},x.prototype.unref=function(e){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var F;function S(e,t,n,r){if(r)return e.toString("utf8",t,n);for(var o="",i=t;i<n;i++)o+="\0☺☻♥♦♣♠•◘○◙♂♀♪♫☼►◄↕‼¶§▬↨↑↓→←∟↔▲▼ !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~⌂ÇüéâäàåçêëèïîìÄÅÉæÆôöòûùÿÖÜ¢£¥₧ƒáíóúñÑªº¿⌐¬½¼¡«»░▒▓│┤╡╢╖╕╣║╗╝╜╛┐└┴┬├─┼╞╟╚╔╩╦╠═╬╧╨╤╥╙╘╒╓╫╪┘┌█▄▌▐▀αßΓπΣσµτΦΘΩδ∞φε∩≡±≥≤⌠⌡÷≈°∙·√ⁿ²■ "[e[i]];return o}function _(e,t){var n=e.readUInt32LE(t);return 4294967296*e.readUInt32LE(t+4)+n}function O(e){if(e)throw e}F="function"==typeof Buffer.allocUnsafe?function(e){return Buffer.allocUnsafe(e)}:function(e){return new Buffer(e)}},function(e,t){e.exports=require("zlib")},function(e,t,n){var r=n(0),o=n(2),i=n(1),s=i.Readable,a=i.Writable,c=i.PassThrough,l=n(33),u=n(6).EventEmitter;function d(e,t){t=t||{},u.call(this),this.fd=e,this.pend=new l,this.pend.max=1,this.refCount=0,this.autoClose=!!t.autoClose}function f(e,t){t=t||{},s.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=t.end,this.pos=this.start,this.destroyed=!1}function p(e,t){t=t||{},a.call(this,t),this.context=e,this.context.ref(),this.start=t.start||0,this.endOffset=null==t.end?1/0:+t.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}function m(e,t){u.call(this),t=t||{},this.refCount=0,this.buffer=e,this.maxChunkSize=t.maxChunkSize||Number.MAX_SAFE_INTEGER}t.createFromBuffer=function(e,t){return new m(e,t)},t.createFromFd=function(e,t){return new d(e,t)},t.BufferSlicer=m,t.FdSlicer=d,o.inherits(d,u),d.prototype.read=function(e,t,n,o,i){var s=this;s.pend.go((function(a){r.read(s.fd,e,t,n,o,(function(e,t,n){a(),i(e,t,n)}))}))},d.prototype.write=function(e,t,n,o,i){var s=this;s.pend.go((function(a){r.write(s.fd,e,t,n,o,(function(e,t,n){a(),i(e,t,n)}))}))},d.prototype.createReadStream=function(e){return new f(this,e)},d.prototype.createWriteStream=function(e){return new p(this,e)},d.prototype.ref=function(){this.refCount+=1},d.prototype.unref=function(){var e=this;if(e.refCount-=1,!(e.refCount>0)){if(e.refCount<0)throw new Error("invalid unref");e.autoClose&&r.close(e.fd,(function(t){t?e.emit("error",t):e.emit("close")}))}},o.inherits(f,s),f.prototype._read=function(e){var t=this;if(!t.destroyed){var n=Math.min(t._readableState.highWaterMark,e);if(null!=t.endOffset&&(n=Math.min(n,t.endOffset-t.pos)),n<=0)return t.destroyed=!0,t.push(null),void t.context.unref();t.context.pend.go((function(e){if(t.destroyed)return e();var o=new Buffer(n);r.read(t.context.fd,o,0,n,t.pos,(function(n,r){n?t.destroy(n):0===r?(t.destroyed=!0,t.push(null),t.context.unref()):(t.pos+=r,t.push(o.slice(0,r))),e()}))}))}},f.prototype.destroy=function(e){this.destroyed||(e=e||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",e),this.context.unref())},o.inherits(p,a),p.prototype._write=function(e,t,n){var o=this;if(!o.destroyed){if(o.pos+e.length>o.endOffset){var i=new Error("maximum file length exceeded");return i.code="ETOOBIG",o.destroy(),void n(i)}o.context.pend.go((function(t){if(o.destroyed)return t();r.write(o.context.fd,e,0,e.length,o.pos,(function(e,r){e?(o.destroy(),t(),n(e)):(o.bytesWritten+=r,o.pos+=r,o.emit("progress"),t(),n())}))}))}},p.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())},o.inherits(m,u),m.prototype.read=function(e,t,n,r,o){var i=r+n,s=i-this.buffer.length,a=s>0?s:n;this.buffer.copy(e,t,r,i),setImmediate((function(){o(null,a)}))},m.prototype.write=function(e,t,n,r,o){e.copy(this.buffer,r,t,t+n),setImmediate((function(){o(null,n,e)}))},m.prototype.createReadStream=function(e){var t=new c(e=e||{});t.destroyed=!1,t.start=e.start||0,t.endOffset=e.end,t.pos=t.endOffset||this.buffer.length;for(var n=this.buffer.slice(t.start,t.pos),r=0;;){var o=r+this.maxChunkSize;if(o>=n.length){r<n.length&&t.write(n.slice(r,n.length));break}t.write(n.slice(r,o)),r=o}return t.end(),t.destroy=function(){t.destroyed=!0},t},m.prototype.createWriteStream=function(e){var t=this,n=new a(e=e||{});return n.start=e.start||0,n.endOffset=null==e.end?this.buffer.length:+e.end,n.bytesWritten=0,n.pos=n.start,n.destroyed=!1,n._write=function(e,r,o){if(!n.destroyed){var i=n.pos+e.length;if(i>n.endOffset){var s=new Error("maximum file length exceeded");return s.code="ETOOBIG",n.destroyed=!0,void o(s)}e.copy(t.buffer,n.pos,0,e.length),n.bytesWritten+=e.length,n.pos=i,n.emit("progress"),o()}},n.destroy=function(){n.destroyed=!0},n},m.prototype.ref=function(){this.refCount+=1},m.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")}},function(e,t){function n(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}function r(e){e.pending+=1;var t=!1;return function(r){if(t)throw new Error("callback called twice");if(t=!0,e.error=e.error||r,e.pending-=1,e.waiting.length>0&&e.pending<e.max)o(e,e.waiting.shift());else if(0===e.pending){var i=e.listeners;e.listeners=[],i.forEach(n)}};function n(t){t(e.error)}}function o(e,t){t(r(e))}e.exports=n,n.prototype.go=function(e){this.pending<this.max?o(this,e):this.waiting.push(e)},n.prototype.wait=function(e){0===this.pending?e(this.error):this.listeners.push(e)},n.prototype.hold=function(){return r(this)}},function(e,t,n){var r=n(35).Buffer,o=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];function i(e){if(r.isBuffer(e))return e;var t="function"==typeof r.alloc&&"function"==typeof r.from;if("number"==typeof e)return t?r.alloc(e):new r(e);if("string"==typeof e)return t?r.from(e):new r(e);throw new Error("input must be buffer, number, or string, received "+typeof e)}function s(e){var t=i(4);return t.writeInt32BE(e,0),t}function a(e,t){e=i(e),r.isBuffer(t)&&(t=t.readUInt32BE(0));for(var n=-1^~~t,s=0;s<e.length;s++)n=o[255&(n^e[s])]^n>>>8;return-1^n}function c(){return s(a.apply(null,arguments))}"undefined"!=typeof Int32Array&&(o=new Int32Array(o)),c.signed=function(){return a.apply(null,arguments)},c.unsigned=function(){return a.apply(null,arguments)>>>0},e.exports=c},function(e,t){e.exports=require("buffer")}]);